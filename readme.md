# Java File 입출력 연습

## 직원 정보 관리

### 기능
- 직원 정보 입력
    - 직원번호는 000 ~ 999 까지 입력.
    - 전화번호와 이메일은 형식에 맞게 입력되어야 함.
- 직원 정보 리스트 출력
    - 직원번호, 이름이 출력됨.
    - 퇴사 상태인 직원은 출력되지 않음.
- 직원 상세 정보 리스트 출력
    - 직원번호, 이름, 전화번호, 직급, 이메일이 출력됨.
    - 퇴사 상태인 직원은 출력되지 않음.
- 직원 정보 수정
    - 입력된 직원의 직원번호를 입력하면 이름, 전화번호, 직급, 이메일 수정 가능.
    - 퇴사 상태인 직원은 수정 불가.
- 직원 정보 삭제
    - 입력된 직원의 직원번호를 입력하면 퇴사 직원으로 상태가 변경. (논리적 삭제)
    - 퇴사 상태인 직원은 삭제 불가.

## 고민했던 내용
1. DB 없이 파일에 저장하는 방식으로 데이터를 관리한다면...
    - ~~효율적으로 파일에서 특정 행을 찾는 방법을 몰라 전체를 훑는 방식으로 구현하였음.~~
    - 수정 역시 특정 행을 조작하기 어려워 전체를 읽은 후 특정 행을 구분하여 수정한 데이터를 덮어쓰는 방식으로 구현.
    - ~~입출력 데이터의 형식이 바뀐다면 이 코드는 뜯어내고 새로 만들어야 함...~~
    
    - `수정!`
        - ~~최초 실행 시 file에서 정보를 읽어 List 구성.~~
        - ~~List로 직원 정보를 관리하여 조작, 정렬, 출력에 용이하도록 보완.~~
        - ~~종료 시점에 파일로 저장하도록하여 파일 접근을 최소화하고자 하였음.~~
        
    - `또 다시 수정`
        - 파일 입출력과 서비스 로직 사이에 cache를 두어 파일 입출력을 최소화하고자 하였음.
        - 수정, 삭제는 처리 후 바로 파일에 반영되며 캐시가 clear.
        - 파일을 직접 수정할 경우를 대비하여 10분이 지나면 cache를 다시 구성하도록 처리.

1. 프레임워크 기반이 아닌 자바 코드로 구현하니...
    - 유용한 check 라이브러리를 사용하지 못해 시간이 많이 소요.
    - 객체 instance와 예외 처리에 대해 좀 더 신경써야 했음.
    - Logger를 쓰지 않고 logging하는 방법을 알지 못해서 무식하게 system.out.print 사용.
    - file path를 상대 경로로 설정하는 명확한 방법을 알지 못해 class.getResouce 사용.

1. 과연 이 코드가 수정에 용이한 상태일까? ~~자신이 없음...~~
    - main에서 repository와 service를 생성하여 로직을 구성하였는데 service에서 list를 두고 관리하는 방식이므로 파일 변경에 대응이 어려움.
    - `수정!`
        - 직원 정보 List 구성 로직은 service로 분리
        - file 입출력 로직은 repository로 분리 (추후 DB를 사용한다면 DB 접속 구현체만 만들면 되도록)
        
    - `추가 수정`
        - cache를 중간에 두어 repository 접근을 최소화.
        - service에서 반영된 내용이 repository에 바로 반영될 수 있도록 구조를 변경하여 파일 입출력 후 서비스로직이 처리되도록 수정.   
    

## 더 알아봐야 할 부분
1. 데이터 저장 형식을 JSON으로 처리하지 못함.
    - Java, Javax내 JSON 객체 처리 기능이 없는 것으로 보임.

1. Web Framework 내에서는 어떻게 구현할 수 있는지 확인해야...
    - 데이터 형식을 JSON으로 처리하는 방식은? 
    - cache 구현을 어떻게 할 수 있는지?
    - txt가 아닌 다른 파일 확장자로 처리하려면 어떻게 해야 하는지?
         
      
    